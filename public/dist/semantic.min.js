 /*
 * # Semantic UI - 2.2.2
 * https://github.com/Semantic-Org/Semantic-UI
 * http://www.semantic-ui.com/
 *
 * Copyright 2014 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
!function(e,n,t,i){e.site=e.fn.site=function(o){var a,r,s=(new Date).getTime(),c=[],u=arguments[0],l="string"==typeof u,d=[].slice.call(arguments,1),m=e.isPlainObject(o)?e.extend(!0,{},e.site.settings,o):e.extend({},e.site.settings),f=m.namespace,g=m.error,p="module-"+f,b=e(t),v=b,h=this,y=v.data(p);return a={initialize:function(){a.instantiate()},instantiate:function(){a.verbose("Storing instance of site",a),y=a,v.data(p,a)},normalize:function(){a.fix.console(),a.fix.requestAnimationFrame()},fix:{console:function(){a.debug("Normalizing window.console"),console!==i&&console.log!==i||(a.verbose("Console not available, normalizing events"),a.disable.console()),"undefined"!=typeof console.group&&"undefined"!=typeof console.groupEnd&&"undefined"!=typeof console.groupCollapsed||(a.verbose("Console group not available, normalizing events"),n.console.group=function(){},n.console.groupEnd=function(){},n.console.groupCollapsed=function(){}),"undefined"==typeof console.markTimeline&&(a.verbose("Mark timeline not available, normalizing events"),n.console.markTimeline=function(){})},consoleClear:function(){a.debug("Disabling programmatic console clearing"),n.console.clear=function(){}},requestAnimationFrame:function(){a.debug("Normalizing requestAnimationFrame"),n.requestAnimationFrame===i&&(a.debug("RequestAnimationFrame not available, normalizing event"),n.requestAnimationFrame=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||n.msRequestAnimationFrame||function(e){setTimeout(e,0)})}},moduleExists:function(n){return e.fn[n]!==i&&e.fn[n].settings!==i},enabled:{modules:function(n){var t=[];return n=n||m.modules,e.each(n,function(e,n){a.moduleExists(n)&&t.push(n)}),t}},disabled:{modules:function(n){var t=[];return n=n||m.modules,e.each(n,function(e,n){a.moduleExists(n)||t.push(n)}),t}},change:{setting:function(n,t,o,r){o="string"==typeof o?"all"===o?m.modules:[o]:o||m.modules,r=r===i||r,e.each(o,function(i,o){var s,c=!a.moduleExists(o)||(e.fn[o].settings.namespace||!1);a.moduleExists(o)&&(a.verbose("Changing default setting",n,t,o),e.fn[o].settings[n]=t,r&&c&&(s=e(":data(module-"+c+")"),s.length>0&&(a.verbose("Modifying existing settings",s),s[o]("setting",n,t))))})},settings:function(n,t,o){t="string"==typeof t?[t]:t||m.modules,o=o===i||o,e.each(t,function(t,i){var r;a.moduleExists(i)&&(a.verbose("Changing default setting",n,i),e.extend(!0,e.fn[i].settings,n),o&&f&&(r=e(":data(module-"+f+")"),r.length>0&&(a.verbose("Modifying existing settings",r),r[i]("setting",n))))})}},enable:{console:function(){a.console(!0)},debug:function(e,n){e=e||m.modules,a.debug("Enabling debug for modules",e),a.change.setting("debug",!0,e,n)},verbose:function(e,n){e=e||m.modules,a.debug("Enabling verbose debug for modules",e),a.change.setting("verbose",!0,e,n)}},disable:{console:function(){a.console(!1)},debug:function(e,n){e=e||m.modules,a.debug("Disabling debug for modules",e),a.change.setting("debug",!1,e,n)},verbose:function(e,n){e=e||m.modules,a.debug("Disabling verbose debug for modules",e),a.change.setting("verbose",!1,e,n)}},console:function(e){if(e){if(y.cache.console===i)return void a.error(g.console);a.debug("Restoring console function"),n.console=y.cache.console}else a.debug("Disabling console function"),y.cache.console=n.console,n.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}},destroy:function(){a.verbose("Destroying previous site for",v),v.removeData(p)},cache:{},setting:function(n,t){if(e.isPlainObject(n))e.extend(!0,m,n);else{if(t===i)return m[n];m[n]=t}},internal:function(n,t){if(e.isPlainObject(n))e.extend(!0,a,n);else{if(t===i)return a[n];a[n]=t}},debug:function(){m.debug&&(m.performance?a.performance.log(arguments):(a.debug=Function.prototype.bind.call(console.info,console,m.name+":"),a.debug.apply(console,arguments)))},verbose:function(){m.verbose&&m.debug&&(m.performance?a.performance.log(arguments):(a.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),a.verbose.apply(console,arguments)))},error:function(){a.error=Function.prototype.bind.call(console.error,console,m.name+":"),a.error.apply(console,arguments)},performance:{log:function(e){var n,t,i;m.performance&&(n=(new Date).getTime(),i=s||n,t=n-i,s=n,c.push({Element:h,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":t})),clearTimeout(a.performance.timer),a.performance.timer=setTimeout(a.performance.display,500)},display:function(){var n=m.name+":",t=0;s=!1,clearTimeout(a.performance.timer),e.each(c,function(e,n){t+=n["Execution Time"]}),n+=" "+t+"ms",(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(n),console.table?console.table(c):e.each(c,function(e,n){console.log(n.Name+": "+n["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(n,t,o){var s,c,u,l=y;return t=t||d,o=h||o,"string"==typeof n&&l!==i&&(n=n.split(/[\. ]/),s=n.length-1,e.each(n,function(t,o){var r=t!=s?o+n[t+1].charAt(0).toUpperCase()+n[t+1].slice(1):n;if(e.isPlainObject(l[r])&&t!=s)l=l[r];else{if(l[r]!==i)return c=l[r],!1;if(!e.isPlainObject(l[o])||t==s)return l[o]!==i?(c=l[o],!1):(a.error(g.method,n),!1);l=l[o]}})),e.isFunction(c)?u=c.apply(o,t):c!==i&&(u=c),e.isArray(r)?r.push(u):r!==i?r=[r,u]:u!==i&&(r=u),c}},l?(y===i&&a.initialize(),a.invoke(u)):(y!==i&&a.destroy(),a.initialize()),r!==i?r:this},e.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!1,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","embed","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(n){return function(t){return!!e.data(t,n)}}):function(n,t,i){return!!e.data(n,i[3])}})}(jQuery,window,document),function(e,n,t,i){"use strict";n="undefined"!=typeof n&&n.Math==Math?n:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.dimmer=function(n){var o,a=e(this),r=(new Date).getTime(),s=[],c=arguments[0],u="string"==typeof c,l=[].slice.call(arguments,1);return a.each(function(){var d,m,f,g=e.isPlainObject(n)?e.extend(!0,{},e.fn.dimmer.settings,n):e.extend({},e.fn.dimmer.settings),p=g.selector,b=g.namespace,v=g.className,h=g.error,y="."+b,w="module-"+b,C=a.selector||"",x="ontouchstart"in t.documentElement?"touchstart":"click",S=e(this),q=this,A=S.data(w);f={preinitialize:function(){f.is.dimmer()?(m=S.parent(),d=S):(m=S,d=f.has.dimmer()?g.dimmerName?m.find(p.dimmer).filter("."+g.dimmerName):m.find(p.dimmer):f.create(),f.set.variation())},initialize:function(){f.debug("Initializing dimmer",g),f.bind.events(),f.set.dimmable(),f.instantiate()},instantiate:function(){f.verbose("Storing instance of module",f),A=f,S.data(w,A)},destroy:function(){f.verbose("Destroying previous module",d),f.unbind.events(),f.remove.variation(),m.off(y)},bind:{events:function(){"hover"==g.on?m.on("mouseenter"+y,f.show).on("mouseleave"+y,f.hide):"click"==g.on&&m.on(x+y,f.toggle),f.is.page()&&(f.debug("Setting as a page dimmer",m),f.set.pageDimmer()),f.is.closable()&&(f.verbose("Adding dimmer close event",d),m.on(x+y,p.dimmer,f.event.click))}},unbind:{events:function(){S.removeData(w),m.off(y)}},event:{click:function(n){f.verbose("Determining if event occured on dimmer",n),(0===d.find(n.target).length||e(n.target).is(p.content))&&(f.hide(),n.stopImmediatePropagation())}},addContent:function(n){var t=e(n);f.debug("Add content to dimmer",t),t.parent()[0]!==d[0]&&t.detach().appendTo(d)},create:function(){var n=e(g.template.dimmer());return g.dimmerName&&(f.debug("Creating named dimmer",g.dimmerName),n.addClass(g.dimmerName)),n.appendTo(m),n},show:function(n){n=e.isFunction(n)?n:function(){},f.debug("Showing dimmer",d,g),f.is.dimmed()&&!f.is.animating()||!f.is.enabled()?f.debug("Dimmer is already shown or disabled"):(f.animate.show(n),g.onShow.call(q),g.onChange.call(q))},hide:function(n){n=e.isFunction(n)?n:function(){},f.is.dimmed()||f.is.animating()?(f.debug("Hiding dimmer",d),f.animate.hide(n),g.onHide.call(q),g.onChange.call(q)):f.debug("Dimmer is not visible")},toggle:function(){f.verbose("Toggling dimmer visibility",d),f.is.dimmed()?f.hide():f.show()},animate:{show:function(n){n=e.isFunction(n)?n:function(){},g.useCSS&&e.fn.transition!==i&&d.transition("is supported")?("auto"!==g.opacity&&f.set.opacity(),d.transition({animation:g.transition+" in",queue:!1,duration:f.get.duration(),useFailSafe:!0,onStart:function(){f.set.dimmed()},onComplete:function(){f.set.active(),n()}})):(f.verbose("Showing dimmer animation with javascript"),f.set.dimmed(),"auto"==g.opacity&&(g.opacity=.8),d.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(f.get.duration(),g.opacity,function(){d.removeAttr("style"),f.set.active(),n()}))},hide:function(n){n=e.isFunction(n)?n:function(){},g.useCSS&&e.fn.transition!==i&&d.transition("is supported")?(f.verbose("Hiding dimmer with css"),d.transition({animation:g.transition+" out",queue:!1,duration:f.get.duration(),useFailSafe:!0,onStart:function(){f.remove.dimmed()},onComplete:function(){f.remove.active(),n()}})):(f.verbose("Hiding dimmer with javascript"),f.remove.dimmed(),d.stop().fadeOut(f.get.duration(),function(){f.remove.active(),d.removeAttr("style"),n()}))}},get:{dimmer:function(){return d},duration:function(){return"object"==typeof g.duration?f.is.active()?g.duration.hide:g.duration.show:g.duration}},has:{dimmer:function(){return g.dimmerName?S.find(p.dimmer).filter("."+g.dimmerName).length>0:S.find(p.dimmer).length>0}},is:{active:function(){return d.hasClass(v.active)},animating:function(){return d.is(":animated")||d.hasClass(v.animating)},closable:function(){return"auto"==g.closable?"hover"!=g.on:g.closable},dimmer:function(){return S.hasClass(v.dimmer)},dimmable:function(){return S.hasClass(v.dimmable)},dimmed:function(){return m.hasClass(v.dimmed)},disabled:function(){return m.hasClass(v.disabled)},enabled:function(){return!f.is.disabled()},page:function(){return m.is("body")},pageDimmer:function(){return d.hasClass(v.pageDimmer)}},can:{show:function(){return!d.hasClass(v.disabled)}},set:{opacity:function(e){var n=d.css("background-color"),t=n.split(","),i=t&&3==t.length,o=t&&4==t.length;e=0===g.opacity?0:g.opacity||e,i||o?(t[3]=e+")",n=t.join(",")):n="rgba(0, 0, 0, "+e+")",f.debug("Setting opacity to",e),d.css("background-color",n)},active:function(){d.addClass(v.active)},dimmable:function(){m.addClass(v.dimmable)},dimmed:function(){m.addClass(v.dimmed)},pageDimmer:function(){d.addClass(v.pageDimmer)},disabled:function(){d.addClass(v.disabled)},variation:function(e){e=e||g.variation,e&&d.addClass(e)}},remove:{active:function(){d.removeClass(v.active)},dimmed:function(){m.removeClass(v.dimmed)},disabled:function(){d.removeClass(v.disabled)},variation:function(e){e=e||g.variation,e&&d.removeClass(e)}},setting:function(n,t){if(f.debug("Changing setting",n,t),e.isPlainObject(n))e.extend(!0,g,n);else{if(t===i)return g[n];e.isPlainObject(g[n])?e.extend(!0,g[n],t):g[n]=t}},internal:function(n,t){if(e.isPlainObject(n))e.extend(!0,f,n);else{if(t===i)return f[n];f[n]=t}},debug:function(){!g.silent&&g.debug&&(g.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,g.name+":"),f.debug.apply(console,arguments)))},verbose:function(){!g.silent&&g.verbose&&g.debug&&(g.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,g.name+":"),f.verbose.apply(console,arguments)))},error:function(){g.silent||(f.error=Function.prototype.bind.call(console.error,console,g.name+":"),f.error.apply(console,arguments))},performance:{log:function(e){var n,t,i;g.performance&&(n=(new Date).getTime(),i=r||n,t=n-i,r=n,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:q,"Execution Time":t})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var n=g.name+":",t=0;r=!1,clearTimeout(f.performance.timer),e.each(s,function(e,n){t+=n["Execution Time"]}),n+=" "+t+"ms",C&&(n+=" '"+C+"'"),a.length>1&&(n+=" ("+a.length+")"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(n),console.table?console.table(s):e.each(s,function(e,n){console.log(n.Name+": "+n["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(n,t,a){var r,s,c,u=A;return t=t||l,a=q||a,"string"==typeof n&&u!==i&&(n=n.split(/[\. ]/),r=n.length-1,e.each(n,function(t,o){var a=t!=r?o+n[t+1].charAt(0).toUpperCase()+n[t+1].slice(1):n;if(e.isPlainObject(u[a])&&t!=r)u=u[a];else{if(u[a]!==i)return s=u[a],!1;if(!e.isPlainObject(u[o])||t==r)return u[o]!==i?(s=u[o],!1):(f.error(h.method,n),!1);u=u[o]}})),e.isFunction(s)?c=s.apply(a,t):s!==i&&(c=s),e.isArray(o)?o.push(c):o!==i?o=[o,c]:c!==i&&(o=c),s}},f.preinitialize(),u?(A===i&&f.initialize(),f.invoke(c)):(A!==i&&A.invoke("destroy"),f.initialize())}),o!==i?o:this},e.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",silent:!1,debug:!1,verbose:!1,performance:!0,dimmerName:!1,variation:!1,closable:"auto",useCSS:!0,transition:"fade",on:!1,opacity:"auto",duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},className:{active:"active",animating:"animating",dimmable:"dimmable",dimmed:"dimmed",dimmer:"dimmer",disabled:"disabled",hide:"hide",pageDimmer:"page",show:"show"},selector:{dimmer:"> .ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(){return e("<div />").attr("class","ui dimmer")}}}}(jQuery,window,document),function(e,n,t,i){"use strict";n="undefined"!=typeof n&&n.Math==Math?n:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.modal=function(o){var a,r=e(this),s=e(n),c=e(t),u=e("body"),l=r.selector||"",d=(new Date).getTime(),m=[],f=arguments[0],g="string"==typeof f,p=[].slice.call(arguments,1),b=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||n.msRequestAnimationFrame||function(e){setTimeout(e,0)};return r.each(function(){var r,v,h,y,w,C,x,S,q,A=e.isPlainObject(o)?e.extend(!0,{},e.fn.modal.settings,o):e.extend({},e.fn.modal.settings),T=A.selector,k=A.className,R=A.namespace,F=A.error,D="."+R,E="module-"+R,j=e(this),O=e(A.context),P=j.find(T.close),z=this,M=j.data(E);q={initialize:function(){q.verbose("Initializing dimmer",O),q.create.id(),q.create.dimmer(),q.refreshModals(),q.bind.events(),A.observeChanges&&q.observeChanges(),q.instantiate()},instantiate:function(){q.verbose("Storing instance of modal"),M=q,j.data(E,M)},create:{dimmer:function(){var n={debug:A.debug,dimmerName:"modals",duration:{show:A.duration,hide:A.duration}},t=e.extend(!0,n,A.dimmerSettings);return A.inverted&&(t.variation=t.variation!==i?t.variation+" inverted":"inverted"),e.fn.dimmer===i?void q.error(F.dimmer):(q.debug("Creating dimmer with settings",t),y=O.dimmer(t),A.detachable?(q.verbose("Modal is detachable, moving content into dimmer"),y.dimmer("add content",j)):q.set.undetached(),A.blurring&&y.addClass(k.blurring),void(w=y.dimmer("get dimmer")))},id:function(){x=(Math.random().toString(16)+"000000000").substr(2,8),C="."+x,q.verbose("Creating unique id for element",x)}},destroy:function(){q.verbose("Destroying previous modal"),j.removeData(E).off(D),s.off(C),w.off(C),P.off(D),O.dimmer("destroy")},observeChanges:function(){"MutationObserver"in n&&(S=new MutationObserver(function(e){q.debug("DOM tree modified, refreshing"),q.refresh()}),S.observe(z,{childList:!0,subtree:!0}),q.debug("Setting up mutation observer",S))},refresh:function(){q.remove.scrolling(),q.cacheSizes(),q.set.screenHeight(),q.set.type(),q.set.position()},refreshModals:function(){v=j.siblings(T.modal),r=v.add(j)},attachEvents:function(n,t){var i=e(n);t=e.isFunction(q[t])?q[t]:q.toggle,i.length>0?(q.debug("Attaching modal events to element",n,t),i.off(D).on("click"+D,t)):q.error(F.notFound,n)},bind:{events:function(){q.verbose("Attaching events"),j.on("click"+D,T.close,q.event.close).on("click"+D,T.approve,q.event.approve).on("click"+D,T.deny,q.event.deny),s.on("resize"+C,q.event.resize)}},get:{id:function(){return(Math.random().toString(16)+"000000000").substr(2,8)}},event:{approve:function(){return A.onApprove.call(z,e(this))===!1?void q.verbose("Approve callback returned false cancelling hide"):void q.hide()},deny:function(){return A.onDeny.call(z,e(this))===!1?void q.verbose("Deny callback returned false cancelling hide"):void q.hide()},close:function(){q.hide()},click:function(n){var i=e(n.target),o=i.closest(T.modal).length>0,a=e.contains(t.documentElement,n.target);!o&&a&&(q.debug("Dimmer clicked, hiding all modals"),q.is.active()&&(q.remove.clickaway(),A.allowMultiple?q.hide():q.hideAll()))},debounce:function(e,n){clearTimeout(q.timer),q.timer=setTimeout(e,n)},keyboard:function(e){var n=e.which,t=27;n==t&&(A.closable?(q.debug("Escape key pressed hiding modal"),q.hide()):q.debug("Escape key pressed, but closable is set to false"),e.preventDefault())},resize:function(){y.dimmer("is active")&&b(q.refresh)}},toggle:function(){q.is.active()||q.is.animating()?q.hide():q.show()},show:function(n){n=e.isFunction(n)?n:function(){},q.refreshModals(),q.showModal(n)},hide:function(n){n=e.isFunction(n)?n:function(){},q.refreshModals(),q.hideModal(n)},showModal:function(n){n=e.isFunction(n)?n:function(){},q.is.animating()||!q.is.active()?(q.showDimmer(),q.cacheSizes(),q.set.position(),q.set.screenHeight(),q.set.type(),q.set.clickaway(),!A.allowMultiple&&q.others.active()?q.hideOthers(q.showModal):(A.onShow.call(z),A.transition&&e.fn.transition!==i&&j.transition("is supported")?(q.debug("Showing modal with css animations"),j.transition({debug:A.debug,animation:A.transition+" in",queue:A.queue,duration:A.duration,useFailSafe:!0,onComplete:function(){A.onVisible.apply(z),q.add.keyboardShortcuts(),q.save.focus(),q.set.active(),A.autofocus&&q.set.autofocus(),n()}})):q.error(F.noTransition))):q.debug("Modal is already visible")},hideModal:function(n,t){return n=e.isFunction(n)?n:function(){},q.debug("Hiding modal"),A.onHide.call(z,e(this))===!1?void q.verbose("Hide callback returned false cancelling hide"):void((q.is.animating()||q.is.active())&&(A.transition&&e.fn.transition!==i&&j.transition("is supported")?(q.remove.active(),j.transition({debug:A.debug,animation:A.transition+" out",queue:A.queue,duration:A.duration,useFailSafe:!0,onStart:function(){q.others.active()||t||q.hideDimmer(),q.remove.keyboardShortcuts()},onComplete:function(){A.onHidden.call(z),q.restore.focus(),n()}})):q.error(F.noTransition)))},showDimmer:function(){y.dimmer("is animating")||!y.dimmer("is active")?(q.debug("Showing dimmer"),y.dimmer("show")):q.debug("Dimmer already visible")},hideDimmer:function(){return y.dimmer("is animating")||y.dimmer("is active")?void y.dimmer("hide",function(){q.remove.clickaway(),q.remove.screenHeight()}):void q.debug("Dimmer is not visible cannot hide")},hideAll:function(n){var t=r.filter("."+k.active+", ."+k.animating);n=e.isFunction(n)?n:function(){},t.length>0&&(q.debug("Hiding all visible modals"),q.hideDimmer(),t.modal("hide modal",n))},hideOthers:function(n){var t=v.filter("."+k.active+", ."+k.animating);n=e.isFunction(n)?n:function(){},t.length>0&&(q.debug("Hiding other modals",v),t.modal("hide modal",n,!0))},others:{active:function(){return v.filter("."+k.active).length>0},animating:function(){return v.filter("."+k.animating).length>0}},add:{keyboardShortcuts:function(){q.verbose("Adding keyboard shortcuts"),c.on("keyup"+D,q.event.keyboard)}},save:{focus:function(){h=e(t.activeElement).blur()}},restore:{focus:function(){h&&h.length>0&&h.focus()}},remove:{active:function(){j.removeClass(k.active)},clickaway:function(){A.closable&&w.off("click"+C)},bodyStyle:function(){""===u.attr("style")&&(q.verbose("Removing style attribute"),u.removeAttr("style"))},screenHeight:function(){q.debug("Removing page height"),u.css("height","")},keyboardShortcuts:function(){q.verbose("Removing keyboard shortcuts"),c.off("keyup"+D)},scrolling:function(){y.removeClass(k.scrolling),j.removeClass(k.scrolling)}},cacheSizes:function(){var o=j.outerHeight();q.cache!==i&&0===o||(q.cache={pageHeight:e(t).outerHeight(),height:o+A.offset,contextHeight:"body"==A.context?e(n).height():y.height()}),q.debug("Caching modal and container sizes",q.cache)},can:{fit:function(){return q.cache.height+2*A.padding<q.cache.contextHeight}},is:{active:function(){return j.hasClass(k.active)},animating:function(){return j.transition("is supported")?j.transition("is animating"):j.is(":visible")},scrolling:function(){return y.hasClass(k.scrolling)},modernBrowser:function(){return!(n.ActiveXObject||"ActiveXObject"in n)}},set:{autofocus:function(){var e=j.find(":input").filter(":visible"),n=e.filter("[autofocus]"),t=n.length>0?n.first():e.first();t.length>0&&t.focus()},clickaway:function(){A.closable&&w.on("click"+C,q.event.click)},screenHeight:function(){q.can.fit()?u.css("height",""):(q.debug("Modal is taller than page content, resizing page height"),u.css("height",q.cache.height+2*A.padding))},active:function(){j.addClass(k.active)},scrolling:function(){y.addClass(k.scrolling),j.addClass(k.scrolling)},type:function(){q.can.fit()?(q.verbose("Modal fits on screen"),q.others.active()||q.others.animating()||q.remove.scrolling()):(q.verbose("Modal cannot fit on screen setting to scrolling"),q.set.scrolling())},position:function(){q.verbose("Centering modal on page",q.cache),q.can.fit()?j.css({top:"",marginTop:-(q.cache.height/2)}):j.css({marginTop:"",top:c.scrollTop()})},undetached:function(){y.addClass(k.undetached)}},setting:function(n,t){if(q.debug("Changing setting",n,t),e.isPlainObject(n))e.extend(!0,A,n);else{if(t===i)return A[n];e.isPlainObject(A[n])?e.extend(!0,A[n],t):A[n]=t}},internal:function(n,t){if(e.isPlainObject(n))e.extend(!0,q,n);else{if(t===i)return q[n];q[n]=t}},debug:function(){!A.silent&&A.debug&&(A.performance?q.performance.log(arguments):(q.debug=Function.prototype.bind.call(console.info,console,A.name+":"),q.debug.apply(console,arguments)))},verbose:function(){!A.silent&&A.verbose&&A.debug&&(A.performance?q.performance.log(arguments):(q.verbose=Function.prototype.bind.call(console.info,console,A.name+":"),q.verbose.apply(console,arguments)))},error:function(){A.silent||(q.error=Function.prototype.bind.call(console.error,console,A.name+":"),q.error.apply(console,arguments))},performance:{log:function(e){var n,t,i;A.performance&&(n=(new Date).getTime(),i=d||n,t=n-i,d=n,m.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:z,"Execution Time":t})),clearTimeout(q.performance.timer),q.performance.timer=setTimeout(q.performance.display,500)},display:function(){var n=A.name+":",t=0;d=!1,clearTimeout(q.performance.timer),e.each(m,function(e,n){t+=n["Execution Time"]}),n+=" "+t+"ms",l&&(n+=" '"+l+"'"),(console.group!==i||console.table!==i)&&m.length>0&&(console.groupCollapsed(n),console.table?console.table(m):e.each(m,function(e,n){console.log(n.Name+": "+n["Execution Time"]+"ms")}),console.groupEnd()),m=[]}},invoke:function(n,t,o){var r,s,c,u=M;return t=t||p,o=z||o,"string"==typeof n&&u!==i&&(n=n.split(/[\. ]/),r=n.length-1,e.each(n,function(t,o){var a=t!=r?o+n[t+1].charAt(0).toUpperCase()+n[t+1].slice(1):n;if(e.isPlainObject(u[a])&&t!=r)u=u[a];else{if(u[a]!==i)return s=u[a],!1;if(!e.isPlainObject(u[o])||t==r)return u[o]!==i&&(s=u[o],!1);u=u[o]}})),e.isFunction(s)?c=s.apply(o,t):s!==i&&(c=s),e.isArray(a)?a.push(c):a!==i?a=[a,c]:c!==i&&(a=c),s}},g?(M===i&&q.initialize(),q.invoke(f)):(M!==i&&M.invoke("destroy"),q.initialize())}),a!==i?a:this},e.fn.modal.settings={name:"Modal",namespace:"modal",silent:!1,debug:!1,verbose:!1,performance:!0,observeChanges:!1,allowMultiple:!1,detachable:!0,closable:!0,autofocus:!0,inverted:!1,blurring:!1,dimmerSettings:{closable:!1,useCSS:!0},context:"body",queue:!1,duration:500,offset:0,transition:"scale",padding:50,onShow:function(){},onVisible:function(){},onHide:function(){return!0},onHidden:function(){},onApprove:function(){return!0},onDeny:function(){return!0},selector:{close:"> .close",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined.",notFound:"The element you specified could not be found"},className:{active:"active",animating:"animating",blurring:"blurring",scrolling:"scrolling",undetached:"undetached"}}}(jQuery,window,document),function(e,n,t,i){"use strict";n="undefined"!=typeof n&&n.Math==Math?n:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.transition=function(){var o,a=e(this),r=a.selector||"",s=(new Date).getTime(),c=[],u=arguments,l=u[0],d=[].slice.call(arguments,1),m="string"==typeof l;n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||n.msRequestAnimationFrame||function(e){setTimeout(e,0)};return a.each(function(n){var f,g,p,b,v,h,y,w,C,x=e(this),S=this;C={initialize:function(){f=C.get.settings.apply(S,u),b=f.className,p=f.error,v=f.metadata,w="."+f.namespace,y="module-"+f.namespace,g=x.data(y)||C,h=C.get.animationEndEvent(),m&&(m=C.invoke(l)),m===!1&&(C.verbose("Converted arguments into settings object",f),f.interval?C.delay(f.animate):C.animate(),C.instantiate())},instantiate:function(){C.verbose("Storing instance of module",C),g=C,x.data(y,g)},destroy:function(){C.verbose("Destroying previous module for",S),x.removeData(y)},refresh:function(){C.verbose("Refreshing display type on next animation"),delete C.displayType},forceRepaint:function(){C.verbose("Forcing element repaint");var e=x.parent(),n=x.next();0===n.length?x.detach().appendTo(e):x.detach().insertBefore(n)},repaint:function(){C.verbose("Repainting element");S.offsetWidth},delay:function(e){var t,o,r=C.get.animationDirection();r||(r=C.can.transition()?C.get.direction():"static"),e=e!==i?e:f.interval,t="auto"==f.reverse&&r==b.outward,o=t||1==f.reverse?(a.length-n)*f.interval:n*f.interval,C.debug("Delaying animation by",o),setTimeout(C.animate,o)},animate:function(e){if(f=e||f,!C.is.supported())return C.error(p.support),!1;if(C.debug("Preparing animation",f.animation),C.is.animating()){if(f.queue)return!f.allowRepeats&&C.has.direction()&&C.is.occurring()&&C.queuing!==!0?C.debug("Animation is currently occurring, preventing queueing same animation",f.animation):C.queue(f.animation),!1;if(!f.allowRepeats&&C.is.occurring())return C.debug("Animation is already occurring, will not execute repeated animation",f.animation),!1;C.debug("New animation started, completing previous early",f.animation),g.complete()}C.can.animate()?C.set.animating(f.animation):C.error(p.noAnimation,f.animation,S)},reset:function(){C.debug("Resetting animation to beginning conditions"),C.remove.animationCallbacks(),C.restore.conditions(),C.remove.animating()},queue:function(e){C.debug("Queueing animation of",e),C.queuing=!0,x.one(h+".queue"+w,function(){C.queuing=!1,C.repaint(),C.animate.apply(this,f)})},complete:function(e){C.debug("Animation complete",f.animation),C.remove.completeCallback(),C.remove.failSafe(),C.is.looping()||(C.is.outward()?(C.verbose("Animation is outward, hiding element"),C.restore.conditions(),C.hide()):C.is.inward()?(C.verbose("Animation is outward, showing element"),C.restore.conditions(),C.show()):(C.verbose("Static animation completed"),C.restore.conditions(),f.onComplete.call(S)))},force:{visible:function(){var e=x.attr("style"),n=C.get.userStyle(),t=C.get.displayType(),o=n+"display: "+t+" !important;",a=x.css("display"),r=e===i||""===e;a!==t?(C.verbose("Overriding default display to show element",t),x.attr("style",o)):r&&x.removeAttr("style")},hidden:function(){var e=x.attr("style"),n=x.css("display"),t=e===i||""===e;"none"===n||C.is.hidden()?t&&x.removeAttr("style"):(C.verbose("Overriding default display to hide element"),x.css("display","none"))}},has:{direction:function(n){var t=!1;return n=n||f.animation,"string"==typeof n&&(n=n.split(" "),e.each(n,function(e,n){n!==b.inward&&n!==b.outward||(t=!0)})),t},inlineDisplay:function(){var n=x.attr("style")||"";return e.isArray(n.match(/display.*?;/,""))}},set:{animating:function(e){var n;C.remove.completeCallback(),e=e||f.animation,n=C.get.animationClass(e),C.save.animation(n),C.force.visible(),C.remove.hidden(),C.remove.direction(),C.start.animation(n)},duration:function(e,n){n=n||f.duration,n="number"==typeof n?n+"ms":n,(n||0===n)&&(C.verbose("Setting animation duration",n),x.css({"animation-duration":n}))},direction:function(e){e=e||C.get.direction(),e==b.inward?C.set.inward():C.set.outward()},looping:function(){C.debug("Transition set to loop"),x.addClass(b.looping)},hidden:function(){x.addClass(b.transition).addClass(b.hidden)},inward:function(){C.debug("Setting direction to inward"),x.removeClass(b.outward).addClass(b.inward)},outward:function(){C.debug("Setting direction to outward"),x.removeClass(b.inward).addClass(b.outward)},visible:function(){x.addClass(b.transition).addClass(b.visible)}},start:{animation:function(e){e=e||C.get.animationClass(),C.debug("Starting tween",e),x.addClass(e).one(h+".complete"+w,C.complete),f.useFailSafe&&C.add.failSafe(),C.set.duration(f.duration),f.onStart.call(S)}},save:{animation:function(e){C.cache||(C.cache={}),C.cache.animation=e},displayType:function(e){"none"!==e&&x.data(v.displayType,e)},transitionExists:function(n,t){e.fn.transition.exists[n]=t,C.verbose("Saving existence of transition",n,t)}},restore:{conditions:function(){var e=C.get.currentAnimation();e&&(x.removeClass(e),C.verbose("Removing animation class",C.cache)),C.remove.duration()}},add:{failSafe:function(){var e=C.get.duration();C.timer=setTimeout(function(){x.triggerHandler(h)},e+f.failSafeDelay),C.verbose("Adding fail safe timer",C.timer)}},remove:{animating:function(){x.removeClass(b.animating)},animationCallbacks:function(){C.remove.queueCallback(),C.remove.completeCallback()},queueCallback:function(){x.off(".queue"+w)},completeCallback:function(){x.off(".complete"+w)},display:function(){x.css("display","")},direction:function(){x.removeClass(b.inward).removeClass(b.outward)},duration:function(){x.css("animation-duration","")},failSafe:function(){C.verbose("Removing fail safe timer",C.timer),C.timer&&clearTimeout(C.timer)},hidden:function(){x.removeClass(b.hidden)},visible:function(){x.removeClass(b.visible)},looping:function(){C.debug("Transitions are no longer looping"),C.is.looping()&&(C.reset(),x.removeClass(b.looping))},transition:function(){x.removeClass(b.visible).removeClass(b.hidden)}},get:{settings:function(n,t,i){return"object"==typeof n?e.extend(!0,{},e.fn.transition.settings,n):"function"==typeof i?e.extend({},e.fn.transition.settings,{animation:n,onComplete:i,duration:t}):"string"==typeof t||"number"==typeof t?e.extend({},e.fn.transition.settings,{animation:n,duration:t}):"object"==typeof t?e.extend({},e.fn.transition.settings,t,{animation:n}):"function"==typeof t?e.extend({},e.fn.transition.settings,{animation:n,onComplete:t}):e.extend({},e.fn.transition.settings,{animation:n})},animationClass:function(e){var n=e||f.animation,t=C.can.transition()&&!C.has.direction()?C.get.direction()+" ":"";return b.animating+" "+b.transition+" "+t+n},currentAnimation:function(){return!(!C.cache||C.cache.animation===i)&&C.cache.animation},currentDirection:function(){return C.is.inward()?b.inward:b.outward},direction:function(){return C.is.hidden()||!C.is.visible()?b.inward:b.outward},animationDirection:function(n){var t;return n=n||f.animation,"string"==typeof n&&(n=n.split(" "),e.each(n,function(e,n){n===b.inward?t=b.inward:n===b.outward&&(t=b.outward);
})),!!t&&t},duration:function(e){return e=e||f.duration,e===!1&&(e=x.css("animation-duration")||0),"string"==typeof e?e.indexOf("ms")>-1?parseFloat(e):1e3*parseFloat(e):e},displayType:function(){return f.displayType?f.displayType:(x.data(v.displayType)===i&&C.can.transition(!0),x.data(v.displayType))},userStyle:function(e){return e=e||x.attr("style")||"",e.replace(/display.*?;/,"")},transitionExists:function(n){return e.fn.transition.exists[n]},animationStartEvent:function(){var e,n=t.createElement("div"),o={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(e in o)if(n.style[e]!==i)return o[e];return!1},animationEndEvent:function(){var e,n=t.createElement("div"),o={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(e in o)if(n.style[e]!==i)return o[e];return!1}},can:{transition:function(n){var t,o,a,r,s,c,u,l=f.animation,d=C.get.transitionExists(l);if(d===i||n){if(C.verbose("Determining whether animation exists"),t=x.attr("class"),o=x.prop("tagName"),a=e("<"+o+" />").addClass(t).insertAfter(x),r=a.addClass(l).removeClass(b.inward).removeClass(b.outward).addClass(b.animating).addClass(b.transition).css("animationName"),s=a.addClass(b.inward).css("animationName"),u=a.attr("class",t).removeAttr("style").removeClass(b.hidden).removeClass(b.visible).show().css("display"),C.verbose("Determining final display state",u),C.save.displayType(u),a.remove(),r!=s)C.debug("Direction exists for animation",l),c=!0;else{if("none"==r||!r)return void C.debug("No animation defined in css",l);C.debug("Static animation found",l,u),c=!1}C.save.transitionExists(l,c)}return d!==i?d:c},animate:function(){return C.can.transition()!==i}},is:{animating:function(){return x.hasClass(b.animating)},inward:function(){return x.hasClass(b.inward)},outward:function(){return x.hasClass(b.outward)},looping:function(){return x.hasClass(b.looping)},occurring:function(e){return e=e||f.animation,e="."+e.replace(" ","."),x.filter(e).length>0},visible:function(){return x.is(":visible")},hidden:function(){return"hidden"===x.css("visibility")},supported:function(){return h!==!1}},hide:function(){C.verbose("Hiding element"),C.is.animating()&&C.reset(),S.blur(),C.remove.display(),C.remove.visible(),C.set.hidden(),C.force.hidden(),f.onHide.call(S),f.onComplete.call(S)},show:function(e){C.verbose("Showing element",e),C.remove.hidden(),C.set.visible(),C.force.visible(),f.onShow.call(S),f.onComplete.call(S)},toggle:function(){C.is.visible()?C.hide():C.show()},stop:function(){C.debug("Stopping current animation"),x.triggerHandler(h)},stopAll:function(){C.debug("Stopping all animation"),C.remove.queueCallback(),x.triggerHandler(h)},clear:{queue:function(){C.debug("Clearing animation queue"),C.remove.queueCallback()}},enable:function(){C.verbose("Starting animation"),x.removeClass(b.disabled)},disable:function(){C.debug("Stopping animation"),x.addClass(b.disabled)},setting:function(n,t){if(C.debug("Changing setting",n,t),e.isPlainObject(n))e.extend(!0,f,n);else{if(t===i)return f[n];e.isPlainObject(f[n])?e.extend(!0,f[n],t):f[n]=t}},internal:function(n,t){if(e.isPlainObject(n))e.extend(!0,C,n);else{if(t===i)return C[n];C[n]=t}},debug:function(){!f.silent&&f.debug&&(f.performance?C.performance.log(arguments):(C.debug=Function.prototype.bind.call(console.info,console,f.name+":"),C.debug.apply(console,arguments)))},verbose:function(){!f.silent&&f.verbose&&f.debug&&(f.performance?C.performance.log(arguments):(C.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),C.verbose.apply(console,arguments)))},error:function(){f.silent||(C.error=Function.prototype.bind.call(console.error,console,f.name+":"),C.error.apply(console,arguments))},performance:{log:function(e){var n,t,i;f.performance&&(n=(new Date).getTime(),i=s||n,t=n-i,s=n,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:S,"Execution Time":t})),clearTimeout(C.performance.timer),C.performance.timer=setTimeout(C.performance.display,500)},display:function(){var n=f.name+":",t=0;s=!1,clearTimeout(C.performance.timer),e.each(c,function(e,n){t+=n["Execution Time"]}),n+=" "+t+"ms",r&&(n+=" '"+r+"'"),a.length>1&&(n+=" ("+a.length+")"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(n),console.table?console.table(c):e.each(c,function(e,n){console.log(n.Name+": "+n["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(n,t,a){var r,s,c,u=g;return t=t||d,a=S||a,"string"==typeof n&&u!==i&&(n=n.split(/[\. ]/),r=n.length-1,e.each(n,function(t,o){var a=t!=r?o+n[t+1].charAt(0).toUpperCase()+n[t+1].slice(1):n;if(e.isPlainObject(u[a])&&t!=r)u=u[a];else{if(u[a]!==i)return s=u[a],!1;if(!e.isPlainObject(u[o])||t==r)return u[o]!==i&&(s=u[o],!1);u=u[o]}})),e.isFunction(s)?c=s.apply(a,t):s!==i&&(c=s),e.isArray(o)?o.push(c):o!==i?o=[o,c]:c!==i&&(o=c),s!==i&&s}},C.initialize()}),o!==i?o:this},e.fn.transition.exists={},e.fn.transition.settings={name:"Transition",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),function(e,n,t,i){"use strict";var n="undefined"!=typeof n&&n.Math==Math?n:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();e.api=e.fn.api=function(t){var o,a=e(e.isFunction(this)?n:this),r=a.selector||"",s=(new Date).getTime(),c=[],u=arguments[0],l="string"==typeof u,d=[].slice.call(arguments,1);return a.each(function(){var a,m,f,g,p,b,v=e.isPlainObject(t)?e.extend(!0,{},e.fn.api.settings,t):e.extend({},e.fn.api.settings),h=v.namespace,y=v.metadata,w=v.selector,C=v.error,x=v.className,S="."+h,q="module-"+h,A=e(this),T=A.closest(w.form),k=v.stateContext?e(v.stateContext):A,R=this,F=k[0],D=A.data(q);b={initialize:function(){l||b.bind.events(),b.instantiate()},instantiate:function(){b.verbose("Storing instance of module",b),D=b,A.data(q,D)},destroy:function(){b.verbose("Destroying previous module for",R),A.removeData(q).off(S)},bind:{events:function(){var e=b.get.event();e?(b.verbose("Attaching API events to element",e),A.on(e+S,b.event.trigger)):"now"==v.on&&(b.debug("Querying API endpoint immediately"),b.query())}},decode:{json:function(e){if(e!==i&&"string"==typeof e)try{e=JSON.parse(e)}catch(n){}return e}},read:{cachedResponse:function(e){var t;return n.Storage===i?void b.error(C.noStorage):(t=sessionStorage.getItem(e),b.debug("Using cached response",e,t),t=b.decode.json(t))}},write:{cachedResponse:function(t,o){return o&&""===o?void b.debug("Response empty, not caching",o):n.Storage===i?void b.error(C.noStorage):(e.isPlainObject(o)&&(o=JSON.stringify(o)),sessionStorage.setItem(t,o),void b.verbose("Storing cached response for url",t,o))}},query:function(){if(b.is.disabled())return void b.debug("Element is disabled API request aborted");if(b.is.loading()){if(!v.interruptRequests)return void b.debug("Cancelling request, previous request is still pending");b.debug("Interrupting previous request"),b.abort()}return v.defaultData&&e.extend(!0,v.urlData,b.get.defaultData()),v.serializeForm&&(v.data=b.add.formData(v.data)),m=b.get.settings(),m===!1?(b.cancelled=!0,void b.error(C.beforeSend)):(b.cancelled=!1,f=b.get.templatedURL(),f||b.is.mocked()?(f=b.add.urlData(f),f||b.is.mocked()?(m.url=v.base+f,a=e.extend(!0,{},v,{type:v.method||v.type,data:g,url:v.base+f,beforeSend:v.beforeXHR,success:function(){},failure:function(){},complete:function(){}}),b.debug("Querying URL",a.url),b.verbose("Using AJAX settings",a),"local"===v.cache&&b.read.cachedResponse(f)?(b.debug("Response returned from local cache"),b.request=b.create.request(),void b.request.resolveWith(F,[b.read.cachedResponse(f)])):void(v.throttle?v.throttleFirstRequest||b.timer?(b.debug("Throttling request",v.throttle),clearTimeout(b.timer),b.timer=setTimeout(function(){b.timer&&delete b.timer,b.debug("Sending throttled request",g,a.method),b.send.request()},v.throttle)):(b.debug("Sending request",g,a.method),b.send.request(),b.timer=setTimeout(function(){},v.throttle)):(b.debug("Sending request",g,a.method),b.send.request()))):void 0):void b.error(C.missingURL))},should:{removeError:function(){return v.hideError===!0||"auto"===v.hideError&&!b.is.form()}},is:{disabled:function(){return A.filter(w.disabled).length>0},expectingJSON:function(){return"json"===v.dataType||"jsonp"===v.dataType},form:function(){return A.is("form")||k.is("form")},mocked:function(){return v.mockResponse||v.mockResponseAsync||v.response||v.responseAsync},input:function(){return A.is("input")},loading:function(){return!!b.request&&"pending"==b.request.state()},abortedRequest:function(e){return e&&e.readyState!==i&&0===e.readyState?(b.verbose("XHR request determined to be aborted"),!0):(b.verbose("XHR request was not aborted"),!1)},validResponse:function(n){return b.is.expectingJSON()&&e.isFunction(v.successTest)?(b.debug("Checking JSON returned success",v.successTest,n),v.successTest(n)?(b.debug("Response passed success test",n),!0):(b.debug("Response failed success test",n),!1)):(b.verbose("Response is not JSON, skipping validation",v.successTest,n),!0)}},was:{cancelled:function(){return b.cancelled||!1},succesful:function(){return b.request&&"resolved"==b.request.state()},failure:function(){return b.request&&"rejected"==b.request.state()},complete:function(){return b.request&&("resolved"==b.request.state()||"rejected"==b.request.state())}},add:{urlData:function(n,t){var o,a;return n&&(o=n.match(v.regExp.required),a=n.match(v.regExp.optional),t=t||v.urlData,o&&(b.debug("Looking for required URL variables",o),e.each(o,function(o,a){var r=a.indexOf("$")!==-1?a.substr(2,a.length-3):a.substr(1,a.length-2),s=e.isPlainObject(t)&&t[r]!==i?t[r]:A.data(r)!==i?A.data(r):k.data(r)!==i?k.data(r):t[r];return s===i?(b.error(C.requiredParameter,r,n),n=!1,!1):(b.verbose("Found required variable",r,s),s=v.encodeParameters?b.get.urlEncodedValue(s):s,n=n.replace(a,s),void 0)})),a&&(b.debug("Looking for optional URL variables",o),e.each(a,function(o,a){var r=a.indexOf("$")!==-1?a.substr(3,a.length-4):a.substr(2,a.length-3),s=e.isPlainObject(t)&&t[r]!==i?t[r]:A.data(r)!==i?A.data(r):k.data(r)!==i?k.data(r):t[r];s!==i?(b.verbose("Optional variable Found",r,s),n=n.replace(a,s)):(b.verbose("Optional variable not found",r),n=n.indexOf("/"+a)!==-1?n.replace("/"+a,""):n.replace(a,""))}))),n},formData:function(n){var t,o=e.fn.serializeObject!==i,a=o?T.serializeObject():T.serialize();return n=n||v.data,t=e.isPlainObject(n),t?o?(b.debug("Extending existing data with form data",n,a),n=e.extend(!0,{},n,a)):(b.error(C.missingSerialize),b.debug("Cant extend data. Replacing data with form data",n,a),n=a):(b.debug("Adding form data",a),n=a),n}},send:{request:function(){b.set.loading(),b.request=b.create.request(),b.is.mocked()?b.mockedXHR=b.create.mockedXHR():b.xhr=b.create.xhr(),v.onRequest.call(F,b.request,b.xhr)}},event:{trigger:function(e){b.query(),"submit"!=e.type&&"click"!=e.type||e.preventDefault()},xhr:{always:function(){},done:function(n,t,i){var o=this,a=(new Date).getTime()-p,r=v.loadingDuration-a,s=!!e.isFunction(v.onResponse)&&(b.is.expectingJSON()?v.onResponse.call(o,e.extend(!0,{},n)):v.onResponse.call(o,n));r=r>0?r:0,s&&(b.debug("Modified API response in onResponse callback",v.onResponse,s,n),n=s),r>0&&b.debug("Response completed early delaying state change by",r),setTimeout(function(){b.is.validResponse(n)?b.request.resolveWith(o,[n,i]):b.request.rejectWith(o,[i,"invalid"])},r)},fail:function(e,n,t){var i=this,o=(new Date).getTime()-p,a=v.loadingDuration-o;a=a>0?a:0,a>0&&b.debug("Response completed early delaying state change by",a),setTimeout(function(){b.is.abortedRequest(e)?b.request.rejectWith(i,[e,"aborted",t]):b.request.rejectWith(i,[e,"error",n,t])},a)}},request:{done:function(e,n){b.debug("Successful API Response",e),"local"===v.cache&&f&&(b.write.cachedResponse(f,e),b.debug("Saving server response locally",b.cache)),v.onSuccess.call(F,e,A,n)},complete:function(e,n){var t,i;b.was.succesful()?(i=e,t=n):(t=e,i=b.get.responseFromXHR(t)),b.remove.loading(),v.onComplete.call(F,i,A,t)},fail:function(e,n,t){var o=b.get.responseFromXHR(e),r=b.get.errorFromRequest(o,n,t);return"aborted"==n?(b.debug("XHR Aborted (Most likely caused by page navigation or CORS Policy)",n,t),v.onAbort.call(F,n,A,e),!0):("invalid"==n?b.debug("JSON did not pass success test. A server-side error has most likely occurred",o):"error"==n&&e!==i&&(b.debug("XHR produced a server error",n,t),200!=e.status&&t!==i&&""!==t&&b.error(C.statusMessage+t,a.url),v.onError.call(F,r,A,e)),v.errorDuration&&"aborted"!==n&&(b.debug("Adding error state"),b.set.error(),b.should.removeError()&&setTimeout(b.remove.error,v.errorDuration)),b.debug("API Request failed",r,e),void v.onFailure.call(F,o,A,e))}}},create:{request:function(){return e.Deferred().always(b.event.request.complete).done(b.event.request.done).fail(b.event.request.fail)},mockedXHR:function(){var n,t,i,o=!1,a=!1,r=!1,s=v.mockResponse||v.response,c=v.mockResponseAsync||v.responseAsync;return i=e.Deferred().always(b.event.xhr.complete).done(b.event.xhr.done).fail(b.event.xhr.fail),s?(e.isFunction(s)?(b.debug("Using specified synchronous callback",s),t=s.call(F,m)):(b.debug("Using settings specified response",s),t=s),i.resolveWith(F,[t,o,{responseText:t}])):e.isFunction(c)&&(n=function(e){b.debug("Async callback returned response",e),e?i.resolveWith(F,[e,o,{responseText:e}]):i.rejectWith(F,[{responseText:e},a,r])},b.debug("Using specified async response callback",c),c.call(F,m,n)),i},xhr:function(){var n;return n=e.ajax(a).always(b.event.xhr.always).done(b.event.xhr.done).fail(b.event.xhr.fail),b.verbose("Created server request",n,a),n}},set:{error:function(){b.verbose("Adding error state to element",k),k.addClass(x.error)},loading:function(){b.verbose("Adding loading state to element",k),k.addClass(x.loading),p=(new Date).getTime()}},remove:{error:function(){b.verbose("Removing error state from element",k),k.removeClass(x.error)},loading:function(){b.verbose("Removing loading state from element",k),k.removeClass(x.loading)}},get:{responseFromXHR:function(n){return!!e.isPlainObject(n)&&(b.is.expectingJSON()?b.decode.json(n.responseText):n.responseText)},errorFromRequest:function(n,t,o){return e.isPlainObject(n)&&n.error!==i?n.error:v.error[t]!==i?v.error[t]:o},request:function(){return b.request||!1},xhr:function(){return b.xhr||!1},settings:function(){var n;return n=v.beforeSend.call(F,v),n&&(n.success!==i&&(b.debug("Legacy success callback detected",n),b.error(C.legacyParameters,n.success),n.onSuccess=n.success),n.failure!==i&&(b.debug("Legacy failure callback detected",n),b.error(C.legacyParameters,n.failure),n.onFailure=n.failure),n.complete!==i&&(b.debug("Legacy complete callback detected",n),b.error(C.legacyParameters,n.complete),n.onComplete=n.complete)),n===i&&b.error(C.noReturnedValue),n===!1?n:n!==i?e.extend(!0,{},n):e.extend(!0,{},v)},urlEncodedValue:function(e){var t=n.decodeURIComponent(e),i=n.encodeURIComponent(e),o=t!==e;return o?(b.debug("URL value is already encoded, avoiding double encoding",e),e):(b.verbose("Encoding value using encodeURIComponent",e,i),i)},defaultData:function(){var n={};return e.isWindow(R)||(b.is.input()?n.value=A.val():b.is.form()||(n.text=A.text())),n},event:function(){return e.isWindow(R)||"now"==v.on?(b.debug("API called without element, no events attached"),!1):"auto"==v.on?A.is("input")?R.oninput!==i?"input":R.onpropertychange!==i?"propertychange":"keyup":A.is("form")?"submit":"click":v.on},templatedURL:function(e){if(e=e||A.data(y.action)||v.action||!1,f=A.data(y.url)||v.url||!1)return b.debug("Using specified url",f),f;if(e){if(b.debug("Looking up url for action",e,v.api),v.api[e]===i&&!b.is.mocked())return void b.error(C.missingAction,v.action,v.api);f=v.api[e]}else b.is.form()&&(f=A.attr("action")||k.attr("action")||!1,b.debug("No url or action specified, defaulting to form action",f));return f}},abort:function(){var e=b.get.xhr();e&&"resolved"!==e.state()&&(b.debug("Cancelling API request"),e.abort())},reset:function(){b.remove.error(),b.remove.loading()},setting:function(n,t){if(b.debug("Changing setting",n,t),e.isPlainObject(n))e.extend(!0,v,n);else{if(t===i)return v[n];e.isPlainObject(v[n])?e.extend(!0,v[n],t):v[n]=t}},internal:function(n,t){if(e.isPlainObject(n))e.extend(!0,b,n);else{if(t===i)return b[n];b[n]=t}},debug:function(){!v.silent&&v.debug&&(v.performance?b.performance.log(arguments):(b.debug=Function.prototype.bind.call(console.info,console,v.name+":"),b.debug.apply(console,arguments)))},verbose:function(){!v.silent&&v.verbose&&v.debug&&(v.performance?b.performance.log(arguments):(b.verbose=Function.prototype.bind.call(console.info,console,v.name+":"),b.verbose.apply(console,arguments)))},error:function(){v.silent||(b.error=Function.prototype.bind.call(console.error,console,v.name+":"),b.error.apply(console,arguments))},performance:{log:function(e){var n,t,i;v.performance&&(n=(new Date).getTime(),i=s||n,t=n-i,s=n,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":t})),clearTimeout(b.performance.timer),b.performance.timer=setTimeout(b.performance.display,500)},display:function(){var n=v.name+":",t=0;s=!1,clearTimeout(b.performance.timer),e.each(c,function(e,n){t+=n["Execution Time"]}),n+=" "+t+"ms",r&&(n+=" '"+r+"'"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(n),console.table?console.table(c):e.each(c,function(e,n){console.log(n.Name+": "+n["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(n,t,a){var r,s,c,u=D;return t=t||d,a=R||a,"string"==typeof n&&u!==i&&(n=n.split(/[\. ]/),r=n.length-1,e.each(n,function(t,o){var a=t!=r?o+n[t+1].charAt(0).toUpperCase()+n[t+1].slice(1):n;if(e.isPlainObject(u[a])&&t!=r)u=u[a];else{if(u[a]!==i)return s=u[a],!1;if(!e.isPlainObject(u[o])||t==r)return u[o]!==i?(s=u[o],!1):(b.error(C.method,n),!1);u=u[o]}})),e.isFunction(s)?c=s.apply(a,t):s!==i&&(c=s),e.isArray(o)?o.push(c):o!==i?o=[o,c]:c!==i&&(o=c),s}},l?(D===i&&b.initialize(),b.invoke(u)):(D!==i&&D.invoke("destroy"),b.initialize())}),o!==i?o:this},e.api.settings={name:"API",namespace:"api",debug:!1,verbose:!1,performance:!0,api:{},cache:!0,interruptRequests:!0,on:"auto",stateContext:!1,loadingDuration:0,hideError:"auto",errorDuration:2e3,encodeParameters:!0,action:!1,url:!1,base:"",urlData:{},defaultData:!0,serializeForm:!1,throttle:0,throttleFirstRequest:!0,method:"get",data:{},dataType:"json",mockResponse:!1,mockResponseAsync:!1,response:!1,responseAsync:!1,beforeSend:function(e){return e},beforeXHR:function(e){},onRequest:function(e,n){},onResponse:!1,onSuccess:function(e,n){},onComplete:function(e,n){},onFailure:function(e,n){},onError:function(e,n){},onAbort:function(e,n){},successTest:!1,error:{beforeSend:"The before send function has aborted the request",error:"There was an error with your request",exitConditions:"API Request Aborted. Exit conditions met",JSONParse:"JSON could not be parsed during error handling",legacyParameters:"You are using legacy API success callback names",method:"The method you called is not defined",missingAction:"API action used but no url was defined",missingSerialize:"jquery-serialize-object is required to add form data to an existing data object",missingURL:"No URL specified for api event",noReturnedValue:"The beforeSend callback must return a settings object, beforeSend ignored.",noStorage:"Caching responses locally requires session storage",parseError:"There was an error parsing your request",requiredParameter:"Missing a required URL parameter: ",statusMessage:"Server gave an error: ",timeout:"Your request timed out"},regExp:{required:/\{\$*[A-z0-9]+\}/g,optional:/\{\/\$*[A-z0-9]+\}/g},className:{loading:"loading",error:"error"},selector:{disabled:".disabled",form:"form"},metadata:{action:"action",url:"url"}}}(jQuery,window,document);